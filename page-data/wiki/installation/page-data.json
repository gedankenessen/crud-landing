{"componentChunkName":"component---src-templates-wiki-entry-jsx","path":"/wiki/installation","result":{"data":{"markdownRemark":{"html":"<h2 id=\"about\">About</h2>\n<p>crud can be self-hosted in multiple ways. The recommended way is via Docker Compose, as that includes a MongoDB. It is also possible to run crud through Docker and to provide your own MongoDB. Lastly, you can also just clone the <a href=\"https://github.com/gedankenessen/crud\">crud repo</a> and run the Clojure code directly.</p>\n<h2 id=\"docker-compose\">Docker Compose</h2>\n<p>When self-hosting crud through Docker Compose all the necessary dependencies are taken care of (besides <a href=\"https://www.docker.com/\">docker</a> itself).</p>\n<br/>\nHere are the necessary steps:\n<ol>\n<li>Create an empty folder for your crud deployment</li>\n<li>Create a <code>docker-compose.yml</code> and paste the following into it</li>\n</ol>\n<pre><code class=\"language-docker\">version: '3.0'\nservices:\n  mongo:\n    image: 'mongo:6.0'\n    restart: 'always'\n    environment:\n      - \"MONGO_INITDB_ROOT_USERNAME=root\"\n      - \"MONGO_INITDB_ROOT_PASSWORD=example\"\n    ports:\n      - '27017:27017'\n  crud:\n    image: 'gedankenessen/crud:1.1.0'\n    restart: 'always'\n    ports:\n      - '3004:3004'\n</code></pre>\n<ol start=\"3\">\n<li>Open a terminal and navigate to your crud folder</li>\n<li>Run <code>docker-compose up</code></li>\n</ol>\n<br/>\n<p>You should now have two services running, a) a <code>mongo</code> service and b) a <code>crud</code> service. If thats the case crud will be available on <code>localhost:3004</code></p>\n<h2 id=\"docker\">Docker</h2>\n<p>You can also run just the Dockerimage and provide your own MongoDB (v6.0 preferred):</p>\n<br/>\n<pre><code class=\"language-shell\">docker run gedankenessen/crud:1.1.0\n</code></pre>\n<br/>\n<p>crud expects your MongoDB to be located at <code>localhost:27017</code> and have a default user of <code>root:example</code>. Checkout <a href=\"#customizing\">the customizing</a> to learn how to change those values.</p>\n<h2 id=\"git\">Git</h2>\n<p>Requirements:</p>\n<ul>\n<li>Git</li>\n<li>Java (JDK8)</li>\n<li>Clojure (1.10)</li>\n<li>Leiningen</li>\n<li>MongoDB (v6.0 preferred)</li>\n</ul>\n<br/>\n<p>The following steps should get <code>crud</code> up and running:</p>\n<ol>\n<li>Clone the crud repo: <code>git clone git@github.com:gedankenessen/crud.git</code></li>\n<li>Enter the project: <code>cd crud</code></li>\n<li>Run the project via leiningen: <code>lein run</code></li>\n</ol>\n<br/>\n<p>That should start crud for you on <code>localhost:3004</code>. Check out <a href=\"#customizing\">the customizing</a> section to correctly configure crud to work with your MongoDB.</p>\n<h2 id=\"customizing\">Customizing</h2>\n<p>By default crud will assume a MongoDB to be present on <code>localhost:27017</code>. crud also assumes a user with the name <code>root</code> with the password <code>example</code> to be present on the database.\nYou can adjust all that by either using environment variables (e.g <a href=\"(https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file)\">docker run -- -e</a>, <a href=\"https://docs.docker.com/compose/environment-variables/\">docker-compose</a>) or passing in different command line arguments (e.g <code>lein run</code>).</p>\n<br/>\n<table>\n<thead>\n<tr>\n<th>Environment Variable</th>\n<th>Command Line Argument</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>CRUD_MONGO_URL</code></td>\n<td><code>--mongo-url</code></td>\n<td><code>localhost</code></td>\n</tr>\n<tr>\n<td><code>CRUD_MONGO_PORT</code></td>\n<td><code>--mongo-port</code></td>\n<td><code>27017</code></td>\n</tr>\n<tr>\n<td><code>CRUD_MONGO_USER</code></td>\n<td><code>--mongo-user</code></td>\n<td><code>root</code></td>\n</tr>\n<tr>\n<td><code>CRUD_MONGO_PW</code></td>\n<td><code>--mongo-pw</code></td>\n<td><code>example</code></td>\n</tr>\n<tr>\n<td><code>CRUD_MONGO_DB</code></td>\n<td><code>--mongo-db</code></td>\n<td><code>crud-testing</code></td>\n</tr>\n<tr>\n<td><code>CRUD_MONGO_SHOULD_AUTH</code></td>\n<td><code>--crud-should-auth</code></td>\n<td><code>false</code></td>\n</tr>\n<tr>\n<td><code>CRUD_MONGO_AUTH_DB</code></td>\n<td><code>--crud-auth-db</code></td>\n<td><code>admin</code></td>\n</tr>\n<tr>\n<td><code>CRUD_PORT</code></td>\n<td><code>--crud-port</code></td>\n<td><code>3004</code></td>\n</tr>\n<tr>\n<td><code>CRUD_ENV</code></td>\n<td><code>--crud-env</code></td>\n<td><code>prod</code></td>\n</tr>\n<tr>\n<td><code>CRUD_TOKEN_SECRET</code></td>\n<td><code>--crud-token-secret</code></td>\n<td><code>secret</code></td>\n</tr>\n<tr>\n<td><code>CRUD_TOKEN_VERSION</code></td>\n<td><code>--crud-token-version</code></td>\n<td><code>0</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"next\">Whats next</h2>\n<p>With crud setup you can checkout the <a href=\"/wiki/first-steps\">first steps</a> section and make your first queries.</p>\n<br/>\n<br/>\n<p><em>Last Edited: 2022.12.13; crud:1.1.0</em></p>","frontmatter":{"slug":"installation","title":"Installation","description":""}}},"pageContext":{"id":"9ff263d9-efe2-5b72-9cd0-ffffd20fee9e"}},"staticQueryHashes":["4165905740"]}